"use strict";const inputSearch=document.querySelector(".js_input"),searchButton=document.querySelector(".js_searchButton"),listDataContainer=document.querySelector(".js_listData"),favListsData=document.querySelector(".js_favListsData"),resetButton=document.querySelector(".js_resetButton");let listsData=[],favouriteListsData=[];function paintFavouriteListData(){let t="";for(const a of favouriteListsData)null!==a.show.image?(t+=`<li id="${a.show.id}" class="js_liListData main__li--favListData">`,t+='<div class="js_listImageContainer">',t+=`<h3>${a.show.name}</h3>`,t+=`<img src="${a.show.image.medium}" class="js_image"/>`,t+="</div>",t+="</li>"):(t+=`<li id="${a.show.id}" class="js_liListData"> `,t+='<div class="js_listImageContainer">',t+=`<h3>${a.show.name}</h3>`,t+='<img src="https://via.placeholder.com/210x295/ffffff/666666/?text=TV}" class="js_image"/>',t+="</div>",t+="</li>");favListsData.innerHTML=t,listenListData()}function handleClickListData(t){const a=parseInt(t.currentTarget.id),i=listsData.find(t=>t.show.id===a),s=favouriteListsData.findIndex(t=>t.show.id===a);-1===s?favouriteListsData.push(i):favouriteListsData.splice(s,1),paintFavouriteListData(),paintListData()}function listenListData(){const t=document.querySelectorAll(".js_liListData");for(const a of t)a.addEventListener("click",handleClickListData)}function liFav(t){return void 0!==favouriteListsData.find(a=>a.show.id===t.show.id)}function paintListData(){let t="",a="";for(const i of listsData){a=liFav(i)?"clickSeries":"",null!==i.show.image?(t+=`<li id="${i.show.id}" class="js_liListData ${a} main__li--listData">`,t+='<div class="js_listImageContainer">',t+=`<h3>${i.show.name}</h3>`,t+=`<img src="${i.show.image.medium}" class="js_image"/>`,t+="</div>",t+="</li>"):(t+=`<li id="${i.show.id}" class="js_liListData"> `,t+='<div class="js_listImageContainer">',t+=`<h3>${i.show.name}</h3>`,t+='<img src="https://via.placeholder.com/210x295/ffffff/666666/?text=TV}" class="js_image"/>',t+="</div>",t+="</li>")}listDataContainer.innerHTML=t,listenListData()}function setInLocalStorage(){const t=JSON.stringify(favouriteListsData);localStorage.setItem("favouriteListsData",t)}function getFromApi(){let t=inputSearch.value.toLowerCase();fetch("//api.tvmaze.com/search/shows?q="+t).then(t=>t.json()).then(t=>{listsData=t,paintListData(),setInLocalStorage()})}function getLocalStorage(){const t=localStorage.getItem("favouriteListsData");if(null===t)getFromApi();else{const a=JSON.parse(t);favouriteListsData=a,paintFavouriteListData(),paintListData()}}function handleSearchButton(t){t.preventDefault(),getFromApi()}function handleResetInput(){location.reload()}getFromApi(),searchButton.addEventListener("click",handleSearchButton),getLocalStorage(),resetButton.addEventListener("click",handleResetInput);